{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst favoriteSlice = createSlice({\n  name: \"favorite\",\n  initialState: {\n    favoriteItems: localStorage.getItem(\"favorite-items\") ? JSON.parse(localStorage.getItem(\"favorite-items\")) : []\n  },\n  reducers: {\n    addToFavorite: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      const itemIndex = state.favoriteItems.findIndex(item => item.id == payload.id);\n\n      if (itemIndex >= 0) {\n        state.favoriteItems = state.favoriteItems;\n      } else {\n        state.favoriteItems.push(payload);\n      }\n\n      localStorage.setItem(\"favorite-items\", JSON.stringify(state.favoriteItems));\n    },\n    removeFromFavorite: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      const favoriteItemsClone = [...state.favoriteItems];\n      const newFavoriteItems = favoriteItemsClone.filter(item => item.id != payload.id);\n      state.favoriteItems = newFavoriteItems;\n      localStorage.setItem(\"favorite-items\", JSON.stringify(state.favoriteItems));\n    }\n  }\n});\nexport const {\n  addToFavorite,\n  removeFromFavorite\n} = favoriteSlice.actions;\nexport default favoriteSlice.reducer;","map":{"version":3,"names":["createSlice","favoriteSlice","name","initialState","favoriteItems","localStorage","getItem","JSON","parse","reducers","addToFavorite","state","payload","itemIndex","findIndex","item","id","push","setItem","stringify","removeFromFavorite","favoriteItemsClone","newFavoriteItems","filter","actions","reducer"],"sources":["C:/Users/PC'S/Desktop/Nouveau dossier/ecommerce mahdi/client/src/redux/features/favoriteSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nconst favoriteSlice = createSlice({\r\n  name: \"favorite\",\r\n  initialState: {\r\n    favoriteItems: localStorage.getItem(\"favorite-items\")\r\n      ? JSON.parse(localStorage.getItem(\"favorite-items\"))\r\n      : [],\r\n  },\r\n  reducers: {\r\n    addToFavorite: (state, { payload }) => {\r\n      const itemIndex = state.favoriteItems.findIndex(\r\n        (item) => item.id == payload.id\r\n      );\r\n      if (itemIndex >= 0) {\r\n        state.favoriteItems = state.favoriteItems;\r\n      } else {\r\n        state.favoriteItems.push(payload);\r\n      }\r\n      localStorage.setItem(\r\n        \"favorite-items\",\r\n        JSON.stringify(state.favoriteItems)\r\n      );\r\n    },\r\n    removeFromFavorite: (state, { payload }) => {\r\n      const favoriteItemsClone = [...state.favoriteItems];\r\n      const newFavoriteItems = favoriteItemsClone.filter(\r\n        (item) => item.id != payload.id\r\n      );\r\n      state.favoriteItems = newFavoriteItems;\r\n      localStorage.setItem(\r\n        \"favorite-items\",\r\n        JSON.stringify(state.favoriteItems)\r\n      );\r\n    },\r\n  },\r\n});\r\nexport const { addToFavorite, removeFromFavorite } = favoriteSlice.actions;\r\nexport default favoriteSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,MAAMC,aAAa,GAAGD,WAAW,CAAC;EAChCE,IAAI,EAAE,UAD0B;EAEhCC,YAAY,EAAE;IACZC,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,gBAArB,IACXC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CADW,GAEX;EAHQ,CAFkB;EAOhCG,QAAQ,EAAE;IACRC,aAAa,EAAE,CAACC,KAAD,WAAwB;MAAA,IAAhB;QAAEC;MAAF,CAAgB;MACrC,MAAMC,SAAS,GAAGF,KAAK,CAACP,aAAN,CAAoBU,SAApB,CACfC,IAAD,IAAUA,IAAI,CAACC,EAAL,IAAWJ,OAAO,CAACI,EADb,CAAlB;;MAGA,IAAIH,SAAS,IAAI,CAAjB,EAAoB;QAClBF,KAAK,CAACP,aAAN,GAAsBO,KAAK,CAACP,aAA5B;MACD,CAFD,MAEO;QACLO,KAAK,CAACP,aAAN,CAAoBa,IAApB,CAAyBL,OAAzB;MACD;;MACDP,YAAY,CAACa,OAAb,CACE,gBADF,EAEEX,IAAI,CAACY,SAAL,CAAeR,KAAK,CAACP,aAArB,CAFF;IAID,CAdO;IAeRgB,kBAAkB,EAAE,CAACT,KAAD,YAAwB;MAAA,IAAhB;QAAEC;MAAF,CAAgB;MAC1C,MAAMS,kBAAkB,GAAG,CAAC,GAAGV,KAAK,CAACP,aAAV,CAA3B;MACA,MAAMkB,gBAAgB,GAAGD,kBAAkB,CAACE,MAAnB,CACtBR,IAAD,IAAUA,IAAI,CAACC,EAAL,IAAWJ,OAAO,CAACI,EADN,CAAzB;MAGAL,KAAK,CAACP,aAAN,GAAsBkB,gBAAtB;MACAjB,YAAY,CAACa,OAAb,CACE,gBADF,EAEEX,IAAI,CAACY,SAAL,CAAeR,KAAK,CAACP,aAArB,CAFF;IAID;EAzBO;AAPsB,CAAD,CAAjC;AAmCA,OAAO,MAAM;EAAEM,aAAF;EAAiBU;AAAjB,IAAwCnB,aAAa,CAACuB,OAA5D;AACP,eAAevB,aAAa,CAACwB,OAA7B"},"metadata":{},"sourceType":"module"}